<!DOCTYPE html>

<html>
	<head>
		<title>YouTube Comment Visualizer | Data Overview</title>
		<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css'>
		<link href='./css/data.css' rel="stylesheet">
	</head>
	<body>
		<div class="cards">
			<div class="cards-container cards-top">
				<div class="card">
					<div class="picture-container"><img class="picture" src="./img/bieber.jpg"></div>
					<div class="picture-info">
						<div class="picture-title">BABY</div>
						<div class="picture-artist">Justin Bieber</div>
						<div class="picture-extra">
							<p>Album: My World 2.0</p>
							<p>Released: 2010</p>
						</div>
					</div>
					<div class="color bieber"></div>
				</div>
				<div class="card">
					<div class="picture-container"><img class="picture" src="./img/bsb.jpg"></div>
					<div class="picture-info">
						<div class="picture-title twolines"><p>AS LONG AS</p><p>YOU LOVE ME</p></div>
						<div class="picture-artist">Backstreet Boys</div>
						<div class="picture-extra">
							<p>Album: Backstreet's Back</p>
							<p>Released: 1997</p>
						</div>
					</div>
					<div class="color bsb"></div>
				</div>
			</div>
			<div class="cards-container cards-bottom">
				<div class="card">
					<div class="picture-container"><img class="picture" src="./img/bass.jpg"></div>
					<div class="picture-info">
						<div class="picture-title twolines"><p>ALL ABOUT</p><p>THAT BASS</p></div>
						<div class="picture-artist">Meghan Trainor</div>
						<div class="picture-extra">
							<p>Album: Title</p>
							<p>Released: 2014</p>
						</div>
					</div>
					<div class="color bass"></div>
				</div>
				<div class="card">
					<div class="picture-container"><img class="picture" src="./img/frozen.jpg"></div>
					<div class="picture-info">
						<div class="picture-title">LET IT GO</div>
						<div class="picture-artist">Frozen</div>
						<div class="picture-extra">
							<p>Album: Frozen</p>
							<p>Released: 2013</p>
						</div>
					</div>
					<div class="color frozen"></div>
				</div>
			</div>
		</div>
		<div class="visual"></div>
	</body>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min.js"></script>
	<script>

		var margin = {top: 10, right: 20, bottom: 30, left: 40},
    		width = 960 - margin.left - margin.right,
    		height = 500 - margin.top - margin.bottom;

		var x = d3.scale.ordinal()
    		.rangeRoundBands([0, width], .1);

		var y = d3.scale.linear()
    		.range([height, 0]);

		var xAxis = d3.svg.axis()
    		.scale(x)
    		.orient("bottom");

		var yAxis = d3.svg.axis()
		    .scale(y)
		    .orient("left")

		var svg = d3.select("body").append("svg")
    		.attr("width", width + margin.left + margin.right)
    		.attr("height", height + margin.top + margin.bottom)
  			.append("g")
    		.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

		d3.tsv("data.tsv", type, function(error, data) {
  			x.domain(data.map(function(d) { return d.song; }));
  			y.domain([0, d3.max(data, function(d) { return d.number; })]);

  		svg.append("g")
   		   .attr("class", "x axis")
      		.attr("transform", "translate(0," + height + ")")
      		.call(xAxis);

  		svg.append("g")
      		.attr("class", "y axis")
      		.call(yAxis)
    		.append("text")
    		 .attr("transform", "rotate(-90)")
      		.attr("y", 6)
      		.attr("dy", ".71em")
      		.style("text-anchor", "end")
      		.text("Number of Comments");

  		svg.selectAll(".bar")
      		.data(data)
    		.enter().append("rect")
     		.attr("class", "bar")
     	 	.attr("x", function(d) { return x(d.song); })
      		.attr("width", x.rangeBand())
      		.attr("y", function(d) { return y(d.number); })
      		.attr("height", function(d) { return height - y(d.number); });

		});

		function type(d) {
		  d.number = +d.number;
  			return d;
		}

	</script>

</html>